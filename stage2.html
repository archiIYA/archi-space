<!DOCTYPE html>
<html lang="fr">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <meta name="description" content="Stage dÃ©couverte 2 - Semestre 2 - Architecture">
Â  <title>Stage dÃ©couverte 2</title>
Â  <link rel="stylesheet" href="style.css" />

Â  Â  <script type="module">
Â  Â  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
Â  Â  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
Â  Â  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";
Â  Â  import { getStorage, ref, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-storage.js";

Â  Â  const firebaseConfig = {
Â  Â  Â  apiKey: "AIzaSyBt4gf4Gan57N3M1PPQhWl5uXxp1Jcrkvk",
Â  Â  Â  authDomain: "archi-space-72624.firebaseapp.com",
Â  Â  Â  projectId: "archi-space-72624",
Â  Â  Â  storageBucket: "archi-space-72624.appspot.com",
Â  Â  Â  messagingSenderId: "407015246505",
Â  Â  Â  appId: "1:407015246505:web:c914a78566b882b80df7b8",
Â  Â  Â  measurementId: "G-RZV7LSDQBD"
Â  Â  };

Â  Â  const app = initializeApp(firebaseConfig);
Â  Â  const auth = getAuth(app);
Â  Â  const db = getFirestore(app);
Â  Â  const storage = getStorage(app);

Â  Â  onAuthStateChanged(auth, (user) => {
Â  Â  Â  if (!user) {
Â  Â  Â  Â  window.location.href = "index.html";
Â  Â  Â  }
Â  Â  });

Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  const premiumButton1 = document.getElementById('premiumButton1');
Â  Â  Â  const loadingMessage1 = document.getElementById('loadingMessage1');

Â  Â  Â  if (premiumButton1) {
Â  Â  Â  Â  premiumButton1.addEventListener('click', async (e) => {
Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  loadingMessage1.textContent = 'ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ø´ØªØ±Ø§ÙƒÙƒ...';
Â  Â  Â  Â  Â  loadingMessage1.style.display = 'block';
Â  Â  Â  Â  Â  const user = auth.currentUser;

Â  Â  Â  Â  Â  if (!user) {
Â  Â  Â  Â  Â  Â  loadingMessage1.textContent = 'ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹.';
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  const userDoc = await getDoc(doc(db, "users", user.uid));
Â  Â  Â  Â  Â  Â  if (userDoc.exists() && userDoc.data().isPremium) {
Â  Â  Â  Â  Â  Â  Â  loadingMessage1.textContent = 'ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
Â  Â  Â  Â  Â  Â  Â  const pdfRef = ref(storage, 'premium-files/stage-2-premium.pdf'); // Ø¹Ø¯Ù‘Ù„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø±
Â  Â  Â  Â  Â  Â  Â  const downloadURL = await getDownloadURL(pdfRef);
Â  Â  Â  Â  Â  Â  Â  loadingMessage1.textContent = 'ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù„ÙØŒ ÙŠØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„...';
Â  Â  Â  Â  Â  Â  Â  window.open(downloadURL, '_blank');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  loadingMessage1.textContent = 'Ù‡Ø°Ø§ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† ÙÙ‚Ø·.';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  console.error("Ø­Ø¯Ø« Ø®Ø·Ø£:", error);
Â  Â  Â  Â  Â  Â  loadingMessage1.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ø§. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ù‹Ø§.';
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  }
Â  Â  });
Â  </script>
Â  Â  <style>
Â  Â  /* ... (ÙƒÙˆØ¯ Ø§Ù„Ù€ CSS Ù„Ù… ÙŠØªØºÙŠØ±) ... */
Â  Â  body { font-family: 'Rubik', sans-serif; }
Â  Â  .lesson { margin-bottom: 20px; }
Â  Â  .lesson-title { font-weight: bold; margin-top: 15px; }
Â  Â  .button-group button {
Â  Â  Â  margin-right: 10px;
Â  Â  Â  padding: 5px 10px;
Â  Â  Â  border: none;
Â  Â  Â  background-color: #eee;
Â  Â  Â  cursor: pointer;
Â  Â  }
Â  Â  .sidebar { display: none; position: fixed; top: 0; left: 0; width: 260px; height: 100%; background: #f0f0f0; padding: 15px; overflow-y: auto; z-index: 1000; }
Â  Â  .sidebar a { display: block; padding: 8px 0; text-decoration: none; color: #333; }
Â  Â  .dropdown { cursor: pointer; font-weight: bold; margin-top: 10px; }
Â  Â  .submenu { display: none; margin-left: 15px; }
Â  Â  .menu-button { position: fixed; top: 10px; left: 10px; background: #333; color: white; padding: 10px; cursor: pointer; z-index: 1100; }
Â  Â  .return-button { margin-top: 20px; display: block; color: #000; text-decoration: none; font-weight: bold; }
Â  </style>
Â  <script>
Â  Â  function toggleSidebar() {
Â  Â  Â  var sidebar = document.getElementById("sidebar");
Â  Â  Â  sidebar.style.display = (sidebar.style.display === "block") ? "none" : "block";
Â  Â  }

Â  Â  function toggleSubmenu(id) {
Â  Â  Â  var menu = document.getElementById(id);
Â  Â  Â  menu.style.display = (menu.style.display === "block") ? "none" : "block";
Â  Â  }
Â  </script>
</head>
<body>

<div class="menu-button" onclick="toggleSidebar()">â˜° Menu</div>

<div id="sidebar" class="sidebar">
Â  <a href="sem2.html" class="return-button">ğŸ”™ Retour Ã  Semestre 2</a>
Â  <a href="lecteur.html" class="return-button">ğŸ”™ Retour Ã  l'accueil</a>

Â  <div class="dropdown" onclick="toggleSubmenu('y1')">AnnÃ©e 1</div>
Â  <div class="submenu" id="y1">
Â  Â  <a href="sem1.html">Semestre 1</a>
Â  Â  <a href="sem2.html">Semestre 2</a>
Â  </div>

Â  <div class="dropdown" onclick="toggleSubmenu('y2')">AnnÃ©e 2</div>
Â  <div class="submenu" id="y2">
Â  Â  <a href="sem3.html">Semestre 3</a>
Â  Â  <a href="sem4.html">Semestre 4</a>
Â  </div>

Â  <div class="dropdown" onclick="toggleSubmenu('y3')">AnnÃ©e 3</div>
Â  <div class="submenu" id="y3">
Â  Â  <a href="sem5.html">Semestre 5</a>
Â  Â  <a href="sem6.html">Semestre 6</a>
Â  Â  <a href="stage.html">Stage pratique</a>
Â  </div>

Â  <div class="dropdown" onclick="toggleSubmenu('y4')">AnnÃ©e 4</div>
Â  <div class="submenu" id="y4">
Â  Â  <a href="sem7.html">Semestre 7</a>
Â  Â  <a href="sem8.html">Semestre 8</a>
Â  </div>

Â  <div class="dropdown" onclick="toggleSubmenu('y5')">AnnÃ©e 5</div>
Â  <div class="submenu" id="y5">
Â  Â  <a href="sem9.html">Semestre 9</a>
Â  Â  <a href="sem10.html">Semestre 10</a>
Â  </div>
</div>

<h1>ğŸ—ï¸ Stage dÃ©couverte 2</h1>

<div class="content">

Â  <div class="lesson">
Â  Â  <div class="lesson-title">1. Visites guidÃ©es de sites</div>
Â  Â  <p>
Â  Â  Â  DÃ©couverte progressive de sites historiques algÃ©riens : phÃ©niciens, romains, byzantins, mÃ©dinas anciennes, sites ottomans, Ã©tablissements coloniaux et rÃ©alisations contemporaines.
Â  Â  </p>
Â  Â  <div class="button-group">
Â  Â  Â  <a href="link-to-your-pdf-file.pdf"><button>ğŸ“„ PDF</button></a>
Â  Â  Â  <button>ğŸ¥ VidÃ©o</button>
Â  Â  Â  <button id="premiumButton1">â­ Premium</button>
      <p id="loadingMessage1" style="display:none; color:#d9534f; margin-top:10px;"></p>
Â  Â  </div>
Â  </div>

Â  <div class="lesson">
Â  Â  <div class="lesson-title">2. Observation et documentation</div>
Â  Â  <p>
Â  Â  Â  Les Ã©tudiants sont encouragÃ©s Ã  observer, dessiner, photographier et dÃ©crire les Ã©lÃ©ments architecturaux rencontrÃ©s lors des sorties pÃ©dagogiques.
Â  Â  </p>
Â  Â  <div class="button-group">
Â  Â  Â  <a href="link-to-your-pdf-file.pdf"><button>ğŸ“„ PDF</button></a>
Â  Â  Â  <button>ğŸ¥ VidÃ©o</button>
Â  Â  Â  <button>â­ Premium</button>
Â  Â  </div>
Â  </div>

Â  <div class="lesson">
Â  Â  <div class="lesson-title">3. RÃ©daction de comptes rendus</div>
Â  Â  <p>
Â  Â  Â  Chaque visite est suivie de la rÃ©daction dâ€™un compte rendu structurÃ© de 10 Ã  15 pages, incluant textes et photos, Ã  remettre au format papier (A4) et numÃ©rique.
Â  Â  </p>
Â  Â  <div class="button-group">
Â  Â  Â  <a href="link-to-your-pdf-file.pdf"><button>ğŸ“„ PDF</button></a>
Â  Â  Â  <button>ğŸ¥ VidÃ©o</button>
Â  Â  Â  <button>â­ Premium</button>
Â  Â  </div>
Â  </div>

</div>

</body>
</html>
